<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- custom styles -->
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="tabs.css" />
    <!-- web experience toolkit -->
    <link href="./GCWeb/assets/favicon.ico" rel="icon" type="image/x-icon" />
    <link rel="stylesheet" href="./GCWeb/css/theme.min.css" />
    <noscript
      ><link rel="stylesheet" href="./GCWeb/wet-boew/css/noscript.min.css"
    /></noscript>
    <!-- leaflet -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
      integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
      crossorigin=""
    />
  </head>
  <body>
    <div class="row">
      <div class="col-md-12">
        <div id="ie-warning"></div>
      </div>
    </div>

    <div
      class="w3-sidebar w3-bar-block w3-light-grey w3-card"
      style="width: 250px"
    >
      <h5 class="w3-bar-item">Pipeline Profiles: NGTL</h5>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'condition-compliance')"
      >
        Conditions Compliance
      </button>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'pipeline-incidents')"
        id="defaultClick"
      >
        Pipeline Incidents
      </button>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'contaminated-sites')"
      >
        Contaminated Sites/Remediation
      </button>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'o&m-activities')"
      >
        Operations and Maintenace Activities
      </button>
      <button
        class="w3-bar-item w3-button tablink"
        onclick="openTab(event, 'unauthorized-activities')"
      >
        Unauthorized Activities
      </button>
    </div>

    <div style="margin-left: 250px; height: 100%; position: relative">
      <!-- <div class="w3-padding">
        Pipeline Profiles Safety and Environment Prototypes
      </div> -->
      <div
        id="condition-compliance"
        class="w3-container profile-section"
        style="display: none"
      >
        <!-- conditions map -->
        <div class="container chart-large" id="conditions-dashboard">
          <div class="row">
            <div class="col-md-12 col-lg-12">
              <h2 id="conditions-map-title">
                Conditions Compliance - In Progress Conditions by Region
              </h2>
            </div>
          </div>
          <div class="mrgn-tp-sm"></div>

          <div class="row">
            <div class="col-md-12 col-lg-12">
              <div
                class="btn-group btn-group-justified"
                id="conditions-nav-group"
              >
                <div class="btn-group btn-conditions">
                  <button
                    type="button"
                    class="btn btn-default active"
                    value="In Progress"
                  >
                    <div class="conditions-summary-title">
                      Total In-Progress Conditions:
                    </div>
                    <div
                      class="conditions-summary-value"
                      id="in-progress-summary"
                    ></div>
                  </button>
                </div>
                <div class="btn-group btn-conditions">
                  <button type="button" class="btn btn-default" value="Closed">
                    <div class="conditions-summary-title">
                      Total Closed Conditions:
                    </div>
                    <div
                      class="conditions-summary-value"
                      id="closed-summary"
                    ></div>
                  </button>
                </div>
                <div class="btn-group btn-conditions">
                  <button
                    type="button"
                    class="btn btn-default disabled"
                    value="not-shown"
                  >
                    <div class="conditions-summary-title">
                      No Geographic Location (not shown):
                    </div>
                    <div
                      class="conditions-summary-value"
                      id="no-location-summary"
                    ></div>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 col-lg-12">
              <div class="container-chart-map" id="container-map"></div>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12 col-lg-12">
              <div
                class="alert alert-info"
                id="conditions-definitions"
                style="display: none"
              ></div>
            </div>
          </div>
        </div>
      </div>

      <div id="pipeline-incidents" class="w3-container profile-section">
        <div class="container chart-large" id="incidents-dashboard">
          <div class="row">
            <div class="col-md-12 col-lg-12">
              <h2 id="incidents-map-title">
                Pipeline Incidents With A Product Release
              </h2>
            </div>
          </div>
          <div class="row">
            <div class="col-md-12">
              <!-- add map buttons here -->
              <div class="cerlabel">Select incident data:</div>
              <div
                class="btn-group btn-group-justified"
                id="incident-data-type"
              >
                <div class="btn-group btn-incident-data-type">
                  <button
                    type="button"
                    class="btn btn-default active"
                    value="frequency"
                  >
                    Number of Incidents
                  </button>
                </div>
                <div class="btn-group btn-incident-data-type">
                  <button type="button" class="btn btn-default" value="volume">
                    Incident Volume
                  </button>
                </div>
              </div>
            </div>
          </div>
          <div class="mrgn-tp-sm"></div>
          <div class="row">
            <div class="col-md-7" style="margin: 0px">
              <div id="incident-map"></div>
            </div>
            <div class="col-md-5" style="margin-left: -15px">
              <div class="incident-filter-bar" id="incident-bar"></div>
            </div>
          </div>
          <div class="mrgn-tp-sm"></div>
          <div id="incidents-near-me">
            <div class="row" style="margin: 0px">
              <div class="col-md-12 cerlabel" id="find-incidents-title">
                Find Incidents Near Me (100km):
              </div>
            </div>
            <div class="row" style="margin: 0px">
              <div class="col-md-6 center-stuff">
                <input
                  name="html5shim-1"
                  id="incident-range-slide"
                  type="range"
                  min="0"
                  max="250"
                  step="1"
                  value="100"
                />
              </div>
              <div class="col-md-3 center-stuff">
                <button
                  type="button"
                  value="100"
                  id="find-incidents-btn"
                  class="btn btn-default"
                >
                  Find Incidents within 100km
                </button>
              </div>
              <div class="col-md-3 center-stuff">
                <button
                  type="button"
                  id="reset-incidents-btn"
                  class="btn btn-default"
                  disabled="disabled"
                >
                  Reset Map (show all Incidents)
                </button>
              </div>
            </div>
            <div class="mrgn-tp-md"></div>
            <div class="row" style="margin: 0px">
              <div class="col-md-12" id="nearby-flag"></div>
            </div>
          </div>
        </div>
      </div>

      <div
        id="contaminated-sites"
        class="w3-container profile-section"
        style="display: none"
      >
        Coming Soon!
      </div>

      <div
        id="o&m-activities"
        class="w3-container profile-section"
        style="display: none"
      >
        Coming Soon!
      </div>

      <div
        id="unauthorized-activities"
        class="w3-container profile-section"
        style="display: none"
      >
        Coming Soon!
      </div>
    </div>

    <div class="mrgn-tp-xl"></div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.js"></script>
    <script>
      function openTab(evt, sectionName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("profile-section");
        for (i = 0; i < x.length; i++) {
          x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tablink");
        for (i = 0; i < x.length; i++) {
          tablinks[i].className = tablinks[i].className.replace(" w3-red", "");
        }
        document.getElementById(sectionName).style.display = "block";
        evt.currentTarget.className += " w3-red";
      }
      document.addEventListener("DOMContentLoaded", function (event) {
        document.getElementById("defaultClick").click();
      });
    </script>
    <script type="text/javascript">
      function themeClick(e) {
        let definitions = {
          Administrative: "Conditions that help track organizational tasks.",

          "Damage Prevention":
            "Conditions that hold companies accountable for the safe conduct in and around pipelines and facilities.",

          "Emergency Management":
            "Conditions that ensure companies have a robust program that anticipates and prevents incidents, and manages and mitigates situations during an emergency.",

          Enforcement:
            "Conditions that reinforce prescribed regulatory requirements to be met.",

          "Environmental Protection":
            "Conditions that mandate projects to be planned, built, operated or abandoned in a manner that protects the environment.",

          Financial:
            "Conditions that require certain details or all aspects of a company’s financial obligations be fulfilled.",

          "Integrity Management":
            "Conditions that ensure projects are designed, built, operated and maintained in a safe and effective manner. For instance, the use of appropriate materials, the detection of corrosion, etc.",

          "Management System":
            "Company specific conditions that ensure the use of an effective and efficient approach to manage and reduce risk. Note: A management system is not project specific.",

          "Safety Management":
            "Conditions that eliminate or reduce risk to the public, workers, the environment and assets.",

          Security:
            "Conditions that ensure companies have adequate personnel and systems to deter, respond and manage security threats.",

          "Socio-Economic":
            "Conditions that address the concerns of potentially affected landowners, residents, communities, indigenous groups, etc.",

          "Standard Condition":
            "A condition that is typically imposed on all approved projects.",
          "Sunset Clause":
            "Conditions that ensure projects begin within a specific period of time.",
        };
        var definitionDiv = document.getElementById("conditions-definitions");
        if (definitionDiv.style.display === "none") {
          definitionDiv.style.display = "block";
        }
        var themes = e.innerText.split(",");
        var definitionsHTML = "<h4>Theme Definitions:</h4>";
        for (var i = 0; i < themes.length; i++) {
          var t = themes[i].trim();
          definitionsHTML += "<b>" + t + "</b>";
          definitionsHTML += "<p>" + definitions[t] + "</p>";
        }
        definitionDiv.innerHTML = definitionsHTML;
        var divPosition = $("#conditions-definitions").offset();
        $("html, body").animate({ scrollTop: divPosition.top }, "slow");
      }
    </script>
    <script src="./GCWeb/wet-boew/js/wet-boew.min.js"></script>
    <!-- highcharts -->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/maps/modules/map.js"></script>
    <script src="https://code.highcharts.com/gantt/modules/gantt.js"></script>
    <script src="https://code.highcharts.com/modules/annotations.js"></script>
    <script src="https://code.highcharts.com/modules/no-data-to-display.js"></script>
    <script src="https://code.highcharts.com/gantt/modules/current-date-indicator.js"></script>
    <!-- leaflet -->
    <script
      src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
      integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
      crossorigin=""
    ></script>
    <!-- webpack bundle -->
    <script src="./dist/bundle_ngtl_eng.js" type="text/javascript"></script>
  </body>
</html>
